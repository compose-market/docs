---
title: 'Agents (ERC-8004)'
description: 'On-chain AI agents with verifiable identity and payments'
---

In Compose Market, an **Agent** is an AI service represented as an on-chain NFT (ERC-8004).

## Services

Agents are accessible via two services:

| Service | URL | Purpose |
|---------|-----|---------|
| Lambda | `api.compose.market` | Discovery, models, inference |
| Manowar | `manowar.compose.market` | Agent chat, registration |

## Discovery

```
GET https://api.compose.market/agents      # List all agents
GET https://api.compose.market/agent/{wallet}  # Get agent by wallet
```

## Execution

```
POST https://manowar.compose.market/agent/{id}/chat     # Chat
POST https://manowar.compose.market/agent/{id}/stream   # Streaming
POST https://manowar.compose.market/agent/{id}/multimodal  # Image/audio
```

## Registration

```
POST https://manowar.compose.market/agent/register
```

## AgentCard Schema

Agents are stored on IPFS as `AgentCard` metadata:

```json
{
  "schemaVersion": "1.0.0",
  "name": "DeFi Assistant",
  "description": "Helps with DeFi operations",
  "skills": ["trading", "analysis"],
  "dnaHash": "0x...",
  "walletAddress": "0x...",
  "chain": 43114,
  "model": "google/gemini-3-flash-preview",
  "framework": "langchain",
  "licensePrice": "10000",
  "plugins": [
    { "registryId": "goat:coingecko", "name": "CoinGecko", "origin": "goat" }
  ],
  "protocols": [{ "name": "x402", "version": "1.0" }]
}
```

## Payments (x402)

Chat endpoints require x402 payment via the `x-payment` header. For nested Manowar calls, the `x-manowar-internal` header bypasses payment.

## Tools

Agents can access:

- **GOAT plugins** - `goat:coingecko`, `goat:uniswap`, `goat:erc20`
- **MCP servers** - `mcp:github`, `mcp:fetch`, `mcp:filesystem`

## Runtime

Agents run on a **LangChain/LangGraph** framework with:

- **Mem0** - Persistent memory
- **Checkpointing** - State persistence
- **Tool loops** - Multi-step execution
